@import 'reset'
@import 'fonts'
@import 'wrapperMedia'

$lighterGreen: #2ee69f
$lightGreen: #17d189
$green: #02a365
$darkGreen: #01855d
$lightGray: #dfdfdf
$lighterGray: #f1f1f1
$gray: #ede6e6
$sendingTimeGray: rgb(132, 132, 132)
$violet: #693175
$lightBlack: #1f1f1f

@mixin paddingLeftRight($value)
    padding: 
        left: $value + px
        right: $value + px

@mixin paddingTopBottom($value)
    padding: 
        top: $value + px
        bottom: $value + px

%message
    margin: 2px 0
    border-radius: 20px
    padding: 10px 55px 5px 15px
    max-width: 75%
    word-break: break-word
    word-wrap: break-word
    overflow-wrap: break-word
    hyphens: auto
    text-align: left

%sidebarPoint
    font-family: 'Noto Sans Regular', sans-serif
    cursor: pointer
    position: relative
    text-align: left
    text-indent: 35px
    &:hover
        background-color: rgba(1, 133, 93, 0.3)

%hideScroll
    overflow-x: hidden
    overflow-y: scroll
    margin: 0 -18px

%inputStyle
    text-align: center
    font-family: 'Roboto', sans-serif
    border-radius: 25px
    border: none

%transpBtn
    background: transparent
    border: 2px solid $green
    color: rgb(34, 29, 29)

%formInputs
    border-bottom: 2px solid white
    padding-bottom: 10px
    &.error
        border-bottom: 2px solid red

*:active, *:hover, *:focus
    outline: 0
    outline-offset: 0

@import 'inputDiv'

body 
    font-family: 'Roboto', sans-serif
    font-size: 18px
    background: rgb(49, 48, 48)

.wrapper 
    width: 100%
    padding: 0
    margin: 0 auto

.window 
    margin: 0 auto
    width: 100%
    height: 100vh

header 
    padding: 24px 15px
    background: linear-gradient(-45deg, $lighterGreen, $lightGreen, $green, $darkGreen)
    border-top:
        left-radius: 25px
        right-radius: 25px
    .header
        text-indent: 50px
        font-family: 'Asap', sans-serif
        font-weight: bold
        font-size: 25px
        color: white
        letter-spacing: 1px

main 
    background: whitesmoke
    text-align: center  
    padding: 50px 15px
    overflow: hidden
    border-bottom:
        left-radius: 25px
        right-radius: 25px
    height: calc(100% - 73px)
    display: flex
    justify-content: center
    align-items: center

input
    display: block
    font-size: 20px
    padding: 13px 18px
    margin: 0 0 30px
    width: 330px
    @extend %inputStyle

button 
    display: inline-block
    font-size: 18px
    padding: 10px 18px
    margin: 0
    background: $darkGreen
    color: white
    cursor: pointer
    @extend %inputStyle

.signInForm, .registrationForm, .registrationVerificationForm, .recoveryForm, .recoveryVerificationForm, .newPasswordForm
    display: inline-block
    margin: 0

#password, #password2, #verificationCode, #username
    margin-bottom: 20px

.navigationButton 
    font-size: 16px
    padding: 6px 12px
    margin: 0 auto 0
    @extend %transpBtn

.buttonLink 
    margin: 0
    padding: 0

.registrationPage, .registrationVerificationPage, .recoveryPage, .recoveryVerificationPage, .newPasswordPage, .chatsPage
    display: none

.registrationForm input
    margin-bottom: 10px
    @extend %formInputs

.newPasswordForm input
    @extend %formInputs

#toRecoveryPage
    color: black
    font-size: 16px
    display: inline-block
    margin-top: 10px

.serverResponse 
    margin-top: 10px
    color: red
    opacity: 0
    font-weight: bold
    letter-spacing: 1px

.userForm input, .userForm button, .buttonLink, .navigationButton 
    display: inline

.instructions
    font-family: 'Noto Sans Bold', sans-serif
    margin-bottom: 30px
    text-align: center
    line-height: 1.25

.registrationPage, .newPasswordPage
    input
        margin-top: -14px
    .registrationInputAlert
        font-family: 'Montserrat'
        font-size: 11px
        color: red
        left: 0
        opacity: 0
        &.active
            opacity: 1

.chatsPage
    justify-content: left
    margin: 0
    height: 100%
    width: 100%
    background-color: $lightGray
    .activeChatInterface
        width: calc(100% - 320px)
        background: $lightGray
        flex-direction: column
        justify-content: flex-end
        display: none
    .interlocutorInfo
        font-size: 19px
        padding: 15px 10px
        text-align: left
        text-indent: 50px
        font-family: 'Montserrat', sans-serif
        background: $lighterGray
        position: relative
        color: $lightBlack
        letter-spacing: 0.75px
    .back
        display: none
        position: absolute
        font-size: 19px
        left: 10px
        top: 6px
        padding: 5px 20px
        margin: 0
        @extend %transpBtn
    .messages
        flex-grow: 1
        display: flex
        flex-direction: column
        padding: 10px 60px 5px
        @extend %hideScroll
    .userMessage
        align-self: flex-end
        background: #057e70
        color: white
        margin-right: -18px
        .sendingTime
            color: $lightGray
        @extend %message
    .interlocutorMessage
        align-self: flex-start
        background: white
        .sendingTime
            color: $sendingTimeGray
        @extend %message
    .sendingTime
        display: block
        text-align: right
        font-size: 12px
        margin: -8px -43px 0 0
    .messagesDate
        display: block
        align-self: center
        font-size: 17px
        font-family: 'Noto Sans Bold', sans-serif
        color: $lightBlack
        padding: 5px 10px
        border: 2px solid $green
        border-radius: 25px
        margin: 10px 0
    .userForm
        padding: 10px 25px
        background: #f1f1f1
        max-height: 35%
        display: flex
        align-items: flex-start
    .userInput
        padding: 10px 20px
        font-size: 18px
        text-align: left
        background: white
        border: none
        line-height: 1
        flex-grow: 1
        overflow-x: hidden
        overflow-y: scroll
        border-radius: 25px
        max-height: 100%
        scrollbar-width: none
        -ms-overflow-style: none
        &::-webkit-scrollbar 
            display: none
    .send
        margin-left: 10px
        padding: 10.5px 10px
        font-size: 17px
        color: white
        background: $green
        line-height: 1
    .sidebar
        width: 320px
        background-color: $lighterGray
        border-right: 1px solid #acaaaa
        overflow: hidden
    .tabs
        display: flex
        justify-content: center
    .tab
        flex-grow: 1
        color: #0d685d
        font-weight: lighter
        letter-spacing: 1px
        font-size: 18px
        padding: 15px 0
        background-color: #dbdada
        cursor: pointer
        &.activeTab
            background-color: $lighterGray
    .tabContent
        @extend %hideScroll
    .chat
        padding: 15px 5px
        @extend %sidebarPoint
        &.activeChat, &.activeChat:hover
            background-color: $darkGreen
            color: white
        &.activeChat h3
            color: white
        &.activeChat p 
            color: $lighterGray
        &.activeChat .lastMessageSendingTime
            color: $gray
    .tasksSidebar
        padding: 15px 5px
        @extend %sidebarPoint
        h3
            color: $violet
        &:hover
            background-color: rgba(105, 49, 117, 0.3)
        &.activeChat, &.activeChat:hover
            background-color: $violet
            color: white
        &.activeChat h3
            color: white
        &.activeChat p 
            color: $lighterGray
        &.activeChat .lastMessageSendingTime
            color: $gray
    .user
        padding: 24px 5px
        @extend %sidebarPoint
        h3, .toChat
            display: inline
    .toChat
        position: absolute
        top: 20.5px
        right: 15px
        font-size: 15px
        background: $darkGreen
        border-radius: 25px
        color: white
        padding: 5px 10px
        line-height: 100%
    .name
        color: $darkGreen
        font-family: 'Noto Sans Bold', sans-serif
        display: inline
    .lastMessage
        margin-top: 10px
        font-size: 15px
        max-width: 90%
        overflow: hidden
        white-space: nowrap
        padding: 2px 0
    .lastMessageSendingTime
        font-size: 14px
        position: absolute
        right: 18px
        top: 19px
        color: $sendingTimeGray

.nullPadding
    padding: 0

@media screen and (max-width: 1200px)
    .chatsPage
        .activeChatInterface
            width: calc(100% - 300px)
        .sidebar
            width: 300px
        .messages
            @include paddingLeftRight(50)

@media screen and (max-width: 992px)
    .wrapper
        max-width: 100%
    .chatsPage
        .activeChatInterface
            width: 70%
        .sidebar
            width: 30%
        .messages
            @include paddingLeftRight(40)

@media screen and (max-width: 768px)
    .chatsPage
        .interlocutorInfo
            text-align: center
            text-indent: 0
        .sidebar, .activeChatInterface
            width: 100%
        .back
            display: inline
        .messages
            @include paddingLeftRight(35)

@media screen and (max-width: 576px)
    input
        width: 280px
    header 
        @include paddingTopBottom(22)
        .header
            text-indent: 30px
            font-size: 23px
    .chatsPage
        .messages
            @include paddingLeftRight(30)
        .userForm
            @include paddingLeftRight(10)
        .send
            margin-left: 5px
    .registrationPage, .newPasswordPage
        #usernameAlert
            font-size: 9px

@media screen and (max-width: 320px)
    input
        width: 100%
    header 
        @include paddingTopBottom(20)
        .header
            text-indent: 20px
            font-size: 21px
    .chatsPage
        .messages
            @include paddingLeftRight(25)
        